---
import Button from "./Button.astro";

const navLinks = [
  { href: '#', label: 'Home' },
  { href: '#services', label: 'Services' },
  { href: '#features', label: 'Features' },
  { href: '#gallery', label: 'Gallery' },
  { href: '#testimonials', label: 'Testimonial' },
  { href: '#contact', label: 'Contact Us' },
];
---
<!-- Navbar Start -->
<header class='sticky top-0 z-10 container px-4 md:px-8 max-w-screen-xl p-4 mx-auto bg-white bg-opacity-90 backdrop-blur-md rounded-b-xl border-b-2'>
  <nav class="flex items-center md:justify-between gap-2">
    <a href="/" class='group leading-none tracking-tight text-body '>
      <span class="text-text-300 font-semibold">GreenThumb</span><br />Landscaping
    </a>

    <!-- Desktop Menu -->
    <div class='hidden md:flex items-center gap-4 lg:gap-8 ms-auto text-body-sm lg:text-body '>
      {navLinks.map((link) => (
        <a href={link.href} class="transition-all ease-in-out duration-300 hover:text-text-400 hover:-translate-y-1">{link.label}</a>
      ))}
    </div>
    
    <!-- Get a Quote Button -->
    <Button href="tel:09123456789" style="px-4 py-2 text-caption rounded-full bg-primary-300 hover:bg-primary-400 text-text-900 hover:transition-color duration-300 ease-in-out hover:shadow-sm ml-auto" label="Get A Quote"/>

    <!-- Mobile Menu Button -->
    <div id="mobile-menu-button" class="cursor-pointer">
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000" class="md:hidden">
        <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/>
      </svg>
    </div>
  </nav>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="hidden md:hidden">
    <div class="flex flex-col items-start mt-4 text-body-sm">
      {navLinks.map((link) => (
        <a href={link.href} class="py-2 text-text-100">{link.label}</a>
      ))}
    </div>
  </div>
</header>
<!-- Navbar End -->


<!-- JavaScript to Toggle Mobile Menu -->
<script defer>
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const mobileLinks = mobileMenu.querySelectorAll('a');

  // State variable to track if the menu is open
  let isMenuOpen = false;

  mobileMenuButton.addEventListener('click', () => {
    // Toggle the visibility of the mobile menu
    mobileMenu.classList.toggle('hidden');
    
    // Toggle the state
    isMenuOpen = !isMenuOpen;

    // Change the SVG based on the state
    if (isMenuOpen) {
      mobileMenuButton.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000" class="md:hidden">
          <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
        </svg>
      `;
    } else {
      mobileMenuButton.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000" class="md:hidden">
          <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/>
        </svg>
      `;
    }
  });

  // Add click event listener to each mobile link
  mobileLinks.forEach(link => {
    link.addEventListener('click', () => {
      // Hide the mobile menu
      mobileMenu.classList.add('hidden');
      isMenuOpen = false; // Reset the state

      // Change the SVG back to the closed state
      mobileMenuButton.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000" class="md:hidden">
          <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/>
        </svg>
      `;
    });
  });
</script>


